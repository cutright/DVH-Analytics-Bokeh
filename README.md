# LiveFreeOrDICOM
DICOM to SQL DVH Database

This code is intended for Radiation Oncology departments to build a SQL database of DVH's from DICOM files (Plan, Structure, Dose).
This is a work in progress.  This file will eventually contain instructions for an end-user.

### Code organization
*DICOM_to_Python*  
This code contains functions that read dicom files and generate python objects containing the data required for input into the
SQL database.  There is no explicit user input.  All data is pulled from DICOM files (except for RxDose from Pinnacle, see note
in SQL Database format).

*SQL_Tools*  
This code handles all communication with SQL with MySQL Connector.  No DICOM files are used in this code and require the python objects
generated by DICOM_to_Python functions.

*DICOM_to_SQL*  
This has the simple objective of writing to SQL Database with only the starting path folder to begin a DICOM file search.

*Analysis_Tools*  
These functions are designed to process data retrieved from the SQL data and convert into python objects.

*ROI_Name_Manager*  
From independently created .roi files, this class generates a map of roi names and provides functions to query
and edit this map.  Each roi points to an institutional roi, physician roi, and a physician.

### To Do List
- [X] Write SQL_Tools fuctions to remove a plan row from PatientPlans master table

- [ ] Write DICOM pre-import validation function

- [X] Adjust Connect_to_SQL() from SQL_Tools to read a config file for SQL server login information

- [ ] Force SQL_DVH_to_Py to conform to 1cGy dose bin size

- [X] Convert this to do list into a markdown task list

- [X] Remove PlanIDs and use StudyInstanceUID instead (Assume DB input are only final composite dose)

- [ ] Add thorough comments throughout all code

- [X] Incorporate EUD calculations

- [ ] Incorporate BED calculations

- [ ] Validate DoseToVolume and VolumeOfDose functions in Analysis_Tools

- [X] Include more thorough beam data

- [X] Add DVH spread function

- [X] Track dose grid resolution

- [X] Generate key for tx sites



# References
Built on these Python libraries

pydicom  
https://github.com/darcymason/pydicom

dicompyler  
https://github.com/bastula/dicompyler
